<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IDE-KMT Equipment & Personnel Management</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header>
        <div class="header-content">
            <div class="header-title">
                <h1>IDE-KMT Equipment & Personnel Management</h1>
                <div class="site-manager">
                    <p>
                        <span class="manager-label">Site Manager:</span>
                        <select id="siteManagerSelect" class="site-manager-select" onchange="updateSiteManager(this.value)">
                            <option value="Nofrinto Flory">Nofrinto Flory</option>
                            <option value="Ongen Latuhamalo">Ongen Latuhamalo</option>
                            <option value="Robby Junus">Robby Junus</option>
                        </select>
                    </p>
                </div>
            </div>
            <div class="header-actions">
                <div class="auth-buttons">
                    <button class="auth-btn login-btn" onclick="window.location.href='login.html'">
                        <svg viewBox="0 0 24 24" width="20" height="20"><path fill="currentColor" d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/></svg>
                        Login
                    </button>
                    <button class="auth-btn signout-btn" onclick="handleSignOut()" style="display: none;">
                        <svg viewBox="0 0 24 24" width="20" height="20"><path fill="currentColor" d="M17 7l-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4V5z"/></svg>
                        Sign Out
                    </button>
                </div>
                <button class="refresh-btn" onclick="window.location.reload()">
                    <svg viewBox="0 0 24 24" width="24" height="24"><path fill="currentColor" d="M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"/></svg>
                    Refresh
                </button>
            </div>
        </div>
    </header>

    <div class="dashboard">
        <div class="summary-cards">
            <div class="card">
                <h3>Total Equipment</h3>
                <p class="count" id="totalEquipment">14</p>
            </div>
            <div class="card">
                <h3>Total Crew</h3>
                <p class="count" id="totalCrew">31</p>
            </div>
            <div class="card crew-off-site">
                <h3>Crew Off Site</h3>
                <p class="count" id="crewOnSite">0</p>
            </div>
            <div class="card crew-on-site">
                <h3>Crew On Site</h3>
                <p class="count" id="crewOffSite">0</p>
            </div>
        </div>

        <div class="main-content">
            <section class="equipment-section">
                <div class="equipment-list" id="equipmentList"></div>
            </section>

            <section class="personnel-section">
                <div class="personnel-categories" id="personnelCategories"></div>
            </section>
        </div>
    </div>

    <footer>
        <p>&copy; 2024 IDE-KMT. All rights reserved.</p>
    </footer>

    <script src="script.js"></script>
    <script src="auth-ui.js"></script>
    <script src="site-manager.js"></script>
</body>
</html>